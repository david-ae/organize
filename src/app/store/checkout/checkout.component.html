@if(cart$ | async; as cart){ @if(cart.cartItems.length > 0){
<div [formGroup]="cartForm" class="">
  <div class="grid grid-cols-1 mx-auto w-full lg:w-3/5 sm:w-3/4">
    <div class="flow-root overflow-y-auto max-h-[100%]">
      <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700">
        @for(item of cart.cartItems; track $index){
        <li class="py-2 sm:py-2">
          <div class="flex items-center space-x-4">
            <div class="flex-shrink-0">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 -960 960 960"
                fill="#000000"
                class="w-10 lg:w-20 h-20 m-auto mt-4 text-black dark:text-black rounded-full"
              >
                <path
                  d="M240-80q-33 0-56.5-23.5T160-160v-480q0-33 23.5-56.5T240-720h80q0-66 47-113t113-47q66 0 113 47t47 113h80q33 0 56.5 23.5T800-640v480q0 33-23.5 56.5T720-80H240Zm0-80h480v-480h-80v80q0 17-11.5 28.5T600-520q-17 0-28.5-11.5T560-560v-80H400v80q0 17-11.5 28.5T360-520q-17 0-28.5-11.5T320-560v-80h-80v480Zm160-560h160q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720ZM240-160v-480 480Z"
                />
              </svg>
            </div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-gray-900 truncate">
                {{ item.getItem().name }}
              </p>
              <p class="text-sm text-black truncate">
                Price:
                <span class="font-medium">#{{ item.getItem().price }}</span>
              </p>
              <p class="text-sm text-black truncate">
                Quantity: {{ item.getQuantity() }}
              </p>
              <p class="text-sm text-black truncate">
                Total: #{{ item.getItem().price * item.getQuantity() }}
              </p>
            </div>
            <div class="grid grid-cols-2 gap-4">
              <button
                mat-raised-button
                color="accent"
                (click)="incrementQuantity(item.getItem().id)"
              >
                +
              </button>
              <button
                mat-raised-button
                color="primary"
                (click)="decrementQuantity(item.getItem().id)"
              >
                -
              </button>
            </div>
          </div>
        </li>
        }
      </ul>
    </div>
    <div class="mb-2">
      <p
        class="w-full items-center text-center text-black italic text-base font-bold"
      >
        Total: #{{ total$ | async }}
      </p>
    </div>
    <div class="grid grid-cols-2 justify-between">
      <button mat-raised-button color="primary" (click)="clearCart()">
        Clear Cart
      </button>
      <button mat-raised-button color="accent" (click)="openConfirmDialog()">
        Continue
      </button>
    </div>
  </div>
</div>
}@else{
<div class="grid grid-cols-1">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="40"
    height="40"
    fill="currentColor"
    class="w-20 h-20 m-auto mt-4 text-black"
    viewBox="0 0 2048 1792"
  >
    <path
      d="M1920 768q53 0 90.5 37.5t37.5 90.5-37.5 90.5-90.5 37.5h-15l-115 662q-8 46-44 76t-82 30h-1280q-46 0-82-30t-44-76l-115-662h-15q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5h1792zm-1435 800q26-2 43.5-22.5t15.5-46.5l-32-416q-2-26-22.5-43.5t-46.5-15.5-43.5 22.5-15.5 46.5l32 416q2 25 20.5 42t43.5 17h5zm411-64v-416q0-26-19-45t-45-19-45 19-19 45v416q0 26 19 45t45 19 45-19 19-45zm384 0v-416q0-26-19-45t-45-19-45 19-19 45v416q0 26 19 45t45 19 45-19 19-45zm352 5l32-416q2-26-15.5-46.5t-43.5-22.5-46.5 15.5-22.5 43.5l-32 416q-2 26 15.5 46.5t43.5 22.5h5q25 0 43.5-17t20.5-42zm-1156-1217l-93 412h-132l101-441q19-88 89-143.5t160-55.5h167q0-26 19-45t45-19h384q26 0 45 19t19 45h167q90 0 160 55.5t89 143.5l101 441h-132l-93-412q-11-44-45.5-72t-79.5-28h-167q0 26-19 45t-45 19h-384q-26 0-45-19t-19-45h-167q-45 0-79.5 28t-45.5 72z"
    ></path>
  </svg>
  <div class="m-auto text-black">
    <h1>Cart is empty</h1>
  </div>
</div>
} }@else{
<div class="grid grid-cols-1">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="40"
    height="40"
    fill="currentColor"
    class="w-20 h-20 m-auto mt-4 text-black"
    viewBox="0 0 2048 1792"
  >
    <path
      d="M1920 768q53 0 90.5 37.5t37.5 90.5-37.5 90.5-90.5 37.5h-15l-115 662q-8 46-44 76t-82 30h-1280q-46 0-82-30t-44-76l-115-662h-15q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5h1792zm-1435 800q26-2 43.5-22.5t15.5-46.5l-32-416q-2-26-22.5-43.5t-46.5-15.5-43.5 22.5-15.5 46.5l32 416q2 25 20.5 42t43.5 17h5zm411-64v-416q0-26-19-45t-45-19-45 19-19 45v416q0 26 19 45t45 19 45-19 19-45zm384 0v-416q0-26-19-45t-45-19-45 19-19 45v416q0 26 19 45t45 19 45-19 19-45zm352 5l32-416q2-26-15.5-46.5t-43.5-22.5-46.5 15.5-22.5 43.5l-32 416q-2 26 15.5 46.5t43.5 22.5h5q25 0 43.5-17t20.5-42zm-1156-1217l-93 412h-132l101-441q19-88 89-143.5t160-55.5h167q0-26 19-45t45-19h384q26 0 45 19t19 45h167q90 0 160 55.5t89 143.5l101 441h-132l-93-412q-11-44-45.5-72t-79.5-28h-167q0 26-19 45t-45 19h-384q-26 0-45-19t-19-45h-167q-45 0-79.5 28t-45.5 72z"
    ></path>
  </svg>
  <div class="m-auto text-black">
    <h1>Cart is empty</h1>
  </div>
</div>
}
